{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/util.ts","webpack:///external \"react\"","webpack:///./src/ArrowContainer.tsx","webpack:///external \"react-dom\"","webpack:///./src/Popover.tsx"],"names":["root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Constants","POPOVER_CONTAINER_CLASS_NAME","DEFAULT_PADDING","DEFAULT_WINDOW_PADDING","FADE_TRANSITION","DEFAULT_ARROW_COLOR","DEFAULT_POSITIONS","EMPTY_CLIENT_RECT","top","left","bottom","height","right","width","arrayUnique","array","filter","index","self","indexOf","require","React","util_1","ArrowContainer","_a","position","children","style","_b","arrowColor","_c","arrowSize","arrowStyle","popoverRect","targetRect","createElement","__assign","paddingLeft","paddingTop","paddingBottom","paddingRight","arrowWidth","borderTop","borderBottom","borderRight","borderLeft","react_dom_1","ArrowContainer_1","Popover","_super","_this","apply","this","arguments","target","targetPositionIntervalHandler","popoverDiv","positionOrder","willUnmount","willMount","onResize","e","renderPopover","onClick","props","onClickOutside","isOpen","contains","__extends","componentDidMount","setTimeout","findDOMNode","getPositionPriorityOrder","updatePopover","componentDidUpdate","prevProps","prevIsOpen","prevPosition","prevBody","content","componentWillMount","componentWillUnmount","removePopover","render","parentNode","transitionDuration","createContainer","opacity","transition","document","body","appendChild","addEventListener","positionIndex","length","renderWithPosition","getBoundingClientRect","violation","rect","disableReposition","contentLocation","contentLocation_1","align","_d","getNudgedPopoverPosition","nudgedTop","nudgedLeft","rectTop","rectLeft","_e","top_1","firstChild","toFixed","_f","pageYOffset","pageXOffset","absoluteTop","absoluteLeft","startTargetPositionListener","checkInterval","setInterval","newTargetRect","targetPositionHasChanged","callback","padding","windowBorderPadding","unstable_renderSubtreeIntoContainer","getLocationForPosition","innerWidth","innerHeight","remove","clearInterval","removeEventListener","removeChild","every","defaultPosition","undefined","find","remainingPositions","concat","containerStyle","containerClassName","container","overflow","keys","forEach","className","targetMidX","targetMidY","oldTargetRect","defaultProps","Component","default"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","import { Position } from './index';\n\nexport const Constants = {\n    POPOVER_CONTAINER_CLASS_NAME: 'react-tiny-popover-container',\n    DEFAULT_PADDING: 6,\n    DEFAULT_WINDOW_PADDING: 6,\n    FADE_TRANSITION: 0.35,\n    DEFAULT_ARROW_COLOR: 'black',\n    DEFAULT_POSITIONS: ['top', 'left', 'right', 'bottom'] as Position[],\n    EMPTY_CLIENT_RECT: {\n        top: 0,\n        left: 0,\n        bottom: 0,\n        height: 0,\n        right: 0,\n        width: 0,\n    } as ClientRect,\n};\n\nexport const arrayUnique = <T>(array: T[]): T[] => array.filter((value: any, index: number, self: T[]) => self.indexOf(value) === index);\n","module.exports = require(\"react\");","import * as React from 'react';\nimport { Position, ArrowContainerProps } from './index';\nimport { Constants } from './util';\n\nconst FLEX_CENTER_CHILD: React.CSSProperties = {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n};\n\ninterface ArrowContainerState {\n    nudgedLeft: number;\n    nudgedTop: number;\n}\n\nconst ArrowContainer: React.StatelessComponent<ArrowContainerProps> = ({\n    position,\n    children,\n    style,\n    arrowColor = Constants.DEFAULT_ARROW_COLOR,\n    arrowSize = 10,\n    arrowStyle,\n    popoverRect,\n    targetRect,\n}) => (\n        <div\n            style={{\n                paddingLeft: position === 'right' ? arrowSize : 0,\n                paddingTop: position === 'bottom' ? arrowSize : 0,\n                paddingBottom: position === 'top' ? arrowSize : 0,\n                paddingRight: position === 'left' ? arrowSize : 0,\n                ...style,\n            }}\n        >\n            <div\n                style={{\n                    position: 'absolute',\n                    ...((): React.CSSProperties => {\n                        const arrowWidth = arrowSize * 2;\n                        let top = (targetRect.top - popoverRect.top) + (targetRect.height / 2) - (arrowWidth / 2);\n                        let left = (targetRect.left - popoverRect.left) + (targetRect.width / 2) - (arrowWidth / 2);\n                        left = left < 0 ? 0 : left;\n                        left = left + arrowWidth > popoverRect.width ? popoverRect.width - arrowWidth : left;\n                        top = top < 0 ? 0 : top;\n                        top = top + arrowWidth > popoverRect.height ? popoverRect.height - arrowWidth : top;\n                        switch (position) {\n                            case 'right':\n                                return {\n                                    borderTop: `${arrowSize}px solid transparent`,\n                                    borderBottom: `${arrowSize}px solid transparent`,\n                                    borderRight: `${arrowSize}px solid ${arrowColor}`,\n                                    left: 0,\n                                    top,\n                                };\n                            case 'left':\n                                return {\n                                    borderTop: `${arrowSize}px solid transparent`,\n                                    borderBottom: `${arrowSize}px solid transparent`,\n                                    borderLeft: `${arrowSize}px solid ${arrowColor}`,\n                                    right: 0,\n                                    top,\n                                };\n                            case 'bottom':\n                                return {\n                                    borderLeft: `${arrowSize}px solid transparent`,\n                                    borderRight: `${arrowSize}px solid transparent`,\n                                    borderBottom: `${arrowSize}px solid ${arrowColor}`,\n                                    top: 0,\n                                    left,\n                                };\n                            case 'top':\n                            default:\n                                return {\n                                    borderLeft: `${arrowSize}px solid transparent`,\n                                    borderRight: `${arrowSize}px solid transparent`,\n                                    borderTop: `${arrowSize}px solid ${arrowColor}`,\n                                    bottom: 0,\n                                    left,\n                                };\n                        }\n                    })(),\n                    ...arrowStyle,\n                }}\n            />\n            {children}\n        </div>\n    );\n\nexport { ArrowContainer };\n","module.exports = require(\"react-dom\");","import * as React from 'react';\nimport { findDOMNode, unstable_renderSubtreeIntoContainer } from 'react-dom';\nimport { Constants, arrayUnique } from './util';\nimport { ArrowContainer } from './ArrowContainer';\nimport { PopoverProps, ContentRenderer, ContentRendererArgs, Position, Align, ContentLocation } from './index';\n\nclass Popover extends React.Component<PopoverProps, {}> {\n    private target: Element = null;\n    private targetRect: ClientRect = null;\n    private targetPositionIntervalHandler: number = null;\n    private popoverDiv: HTMLDivElement = null;\n    private positionOrder: Position[] = null;\n    private willUnmount = false;\n    private willMount = false;\n\n    public static defaultProps: Partial<PopoverProps> = {\n        padding: Constants.DEFAULT_PADDING,\n        windowBorderPadding: Constants.DEFAULT_WINDOW_PADDING,\n        position: ['top', 'right', 'left', 'bottom'],\n        align: 'center',\n        containerClassName: Constants.POPOVER_CONTAINER_CLASS_NAME,\n    };\n\n    public componentDidMount() {\n        window.setTimeout(() => this.willMount = false);\n        const { position, isOpen } = this.props;\n        this.target = findDOMNode(this) as Element;\n        this.positionOrder = this.getPositionPriorityOrder(position);\n        this.updatePopover(isOpen);\n    }\n\n    public componentDidUpdate(prevProps: PopoverProps) {\n        const { isOpen: prevIsOpen, position: prevPosition, content: prevBody } = prevProps;\n        const { isOpen, content, position } = this.props;\n        this.positionOrder = this.getPositionPriorityOrder(this.props.position);\n        if (prevIsOpen !== isOpen || prevBody !== content || prevPosition !== position) {\n            this.updatePopover(isOpen);\n        }\n    }\n\n    public componentWillMount() {\n        this.willUnmount = false;\n        this.willMount = true;\n    }\n\n    public componentWillUnmount() {\n        this.willUnmount = true;\n        this.removePopover();\n    }\n\n    public render() {\n        return this.props.children;\n    }\n\n    private updatePopover(isOpen: boolean) {\n        if (isOpen) {\n            if (!this.popoverDiv || !this.popoverDiv.parentNode) {\n                const { transitionDuration } = this.props;\n                this.popoverDiv = this.createContainer();\n                this.popoverDiv.style.opacity = '0';\n                this.popoverDiv.style.transition = `opacity ${transitionDuration || Constants.FADE_TRANSITION}s`;\n                window.document.body.appendChild(this.popoverDiv);\n                window.addEventListener('resize', this.onResize);\n                window.addEventListener('click', this.onClick);\n            }\n            this.renderPopover();\n        } else if (this.popoverDiv && this.popoverDiv.parentNode) {\n            this.removePopover();\n        }\n    }\n\n    private renderPopover(positionIndex: number = 0) {\n        if (positionIndex >= this.positionOrder.length) {\n            this.removePopover();\n            return;\n        }\n\n        this.renderWithPosition({ position: this.positionOrder[positionIndex], targetRect: this.target.getBoundingClientRect() }, (violation, rect) => {\n            const { disableReposition, contentLocation } = this.props;\n\n            if (violation && !disableReposition && !(typeof contentLocation === 'object')) {\n                this.renderPopover(positionIndex + 1);\n            } else {\n                const { contentLocation, align } = this.props;\n                const { top: nudgedTop, left: nudgedLeft } = this.getNudgedPopoverPosition(rect);\n                const { top: rectTop, left: rectLeft } = rect;\n                const position = this.positionOrder[positionIndex];\n                let { top, left } = disableReposition ? { top: rectTop, left: rectLeft } : { top: nudgedTop, left: nudgedLeft };\n\n                if (contentLocation) {\n                    const targetRect = this.target.getBoundingClientRect();\n                    const popoverRect = (this.popoverDiv.firstChild as HTMLElement).getBoundingClientRect();\n                    ({ top, left } = typeof contentLocation === 'function' ? contentLocation({ targetRect, popoverRect, position, align, nudgedLeft, nudgedTop }) : contentLocation);\n                    this.popoverDiv.style.left = `${left.toFixed()}px`;\n                    this.popoverDiv.style.top = `${top.toFixed()}px`;\n                } else {\n                    const [absoluteTop, absoluteLeft] = [top + window.pageYOffset, left + window.pageXOffset];\n                    this.popoverDiv.style.left = `${absoluteLeft.toFixed()}px`;\n                    this.popoverDiv.style.top = `${absoluteTop.toFixed()}px`;\n                }\n\n                this.popoverDiv.style.width = null;\n                this.popoverDiv.style.height = null;\n\n                this.renderWithPosition({\n                    position,\n                    nudgedTop: nudgedTop - rect.top,\n                    nudgedLeft: nudgedLeft - rect.left,\n                    targetRect: this.target.getBoundingClientRect(),\n                    popoverRect: (this.popoverDiv.firstChild as HTMLElement).getBoundingClientRect(),\n                }, () => {\n                    this.startTargetPositionListener(10);\n                    if (this.popoverDiv.style.opacity !== '1') {\n                        this.popoverDiv.style.opacity = '1';\n                    }\n                });\n            }\n        });\n    }\n\n    private startTargetPositionListener(checkInterval: number) {\n        if (this.targetPositionIntervalHandler === null) {\n            this.targetPositionIntervalHandler = window.setInterval(() => {\n                const newTargetRect = this.target.getBoundingClientRect();\n                if (this.targetPositionHasChanged(this.targetRect, newTargetRect)) {\n                    this.renderPopover();\n                }\n                this.targetRect = newTargetRect;\n            }, checkInterval);\n        }\n    }\n\n    private renderWithPosition(\n        { position, nudgedLeft = 0, nudgedTop = 0, targetRect = Constants.EMPTY_CLIENT_RECT, popoverRect = Constants.EMPTY_CLIENT_RECT }: Partial<ContentRendererArgs>,\n        callback?: (boundaryViolation: boolean, resultingRect: Partial<ClientRect>) => void,\n    ) {\n        const { windowBorderPadding: padding, content, align } = this.props;\n        const getContent = (args: ContentRendererArgs): JSX.Element =>\n            typeof content === 'function'\n                ? content(args)\n                : content;\n\n        unstable_renderSubtreeIntoContainer(this, getContent({ position, nudgedLeft, nudgedTop, targetRect, popoverRect, align }), this.popoverDiv, () => {\n            if (this.willUnmount) {\n                return;\n            }\n            const targetRect = this.target.getBoundingClientRect();\n            const popoverRect = (this.popoverDiv.firstChild as HTMLElement).getBoundingClientRect();\n            const { top, left } = this.getLocationForPosition(position, targetRect, popoverRect);\n            callback(\n                position === 'top' && top < padding ||\n                position === 'left' && left < padding ||\n                position === 'right' && left + popoverRect.width > window.innerWidth - padding ||\n                position === 'bottom' && top + popoverRect.height > window.innerHeight - padding,\n                { width: popoverRect.width, height: popoverRect.height, top, left },\n            );\n        });\n    }\n\n    private getNudgedPopoverPosition({ top, left, width, height }: Partial<ClientRect>): ContentLocation {\n        const { windowBorderPadding: padding } = this.props;\n        top = top < padding ? padding : top;\n        top = top + height > window.innerHeight - padding ? window.innerHeight - padding - height : top;\n        left = left < padding ? padding : left;\n        left = left + width > window.innerWidth - padding ? window.innerWidth - padding - width : left;\n        return { top, left };\n    }\n\n    private removePopover() {\n        if (this.popoverDiv) {\n            const { transitionDuration } = this.props;\n            this.popoverDiv.style.opacity = '0';\n            const remove = () => {\n                if (this.willUnmount || !this.props.isOpen || !this.popoverDiv.parentNode) {\n                    window.clearInterval(this.targetPositionIntervalHandler);\n                    window.removeEventListener('resize', this.onResize);\n                    window.removeEventListener('click', this.onClick);\n                    this.targetPositionIntervalHandler = null;\n                    if (this.popoverDiv.parentNode) {\n                        this.popoverDiv.parentNode.removeChild(this.popoverDiv);\n                    }\n                }\n            };\n            if (!this.willUnmount) {\n                window.setTimeout(remove, (transitionDuration || Constants.FADE_TRANSITION) * 1000);\n            } else {\n                remove();\n            }\n        }\n    }\n\n    private onResize = (e: any) => {\n        this.renderPopover();\n    }\n\n    private onClick = (e: MouseEvent) => {\n        const { onClickOutside, isOpen } = this.props;\n        if (!this.willUnmount && !this.willMount && !this.popoverDiv.contains(e.target as Node) && !this.target.contains(e.target as Node) && onClickOutside && isOpen) {\n            onClickOutside(e);\n        }\n    }\n\n    private getPositionPriorityOrder(position: Position | Position[]): Position[] {\n        if (position && typeof position !== 'string') {\n            if (Constants.DEFAULT_POSITIONS.every(defaultPosition => position.find(p => p === defaultPosition) !== undefined)) {\n                return arrayUnique(position);\n            } else {\n                const remainingPositions = Constants.DEFAULT_POSITIONS.filter(defaultPosition => position.find(p => p === defaultPosition) === undefined);\n                return arrayUnique([...position, ...remainingPositions]);\n            }\n        } else if (position && typeof position === 'string') {\n            const remainingPositions = Constants.DEFAULT_POSITIONS.filter(defaultPosition => defaultPosition !== position);\n            return arrayUnique([position, ...remainingPositions]);\n        }\n    }\n\n    private createContainer(): HTMLDivElement {\n        const { containerStyle, containerClassName } = this.props;\n        const container = window.document.createElement('div');\n\n        container.style.overflow = 'hidden';\n        container.style.position = 'absolute';\n\n        if (containerStyle) {\n            Object.keys(containerStyle).forEach(key => container.style[key as any] = (containerStyle as CSSStyleDeclaration)[key as any]);\n        }\n\n        container.className = containerClassName;\n        container.style.top = '0';\n        container.style.left = '0';\n\n        return container;\n    }\n\n    private getLocationForPosition(position: Position, newTargetRect: ClientRect, popoverRect: ClientRect): ContentLocation {\n        const { padding, align } = this.props;\n        const targetMidX = newTargetRect.left + (newTargetRect.width / 2);\n        const targetMidY = newTargetRect.top + (newTargetRect.height / 2);\n        let top: number;\n        let left: number;\n        switch (position) {\n            case 'top':\n                top = newTargetRect.top - popoverRect.height - padding;\n                left = targetMidX - (popoverRect.width / 2);\n                if (align === 'start') { left = newTargetRect.left; }\n                if (align === 'end') { left = newTargetRect.right - popoverRect.width; }\n                break;\n            case 'left':\n                top = targetMidY - (popoverRect.height / 2);\n                left = newTargetRect.left - padding - popoverRect.width;\n                if (align === 'start') { top = newTargetRect.top; }\n                if (align === 'end') { top = newTargetRect.bottom - popoverRect.height; }\n                break;\n            case 'bottom':\n                top = newTargetRect.bottom + padding;\n                left = targetMidX - (popoverRect.width / 2);\n                if (align === 'start') { left = newTargetRect.left; }\n                if (align === 'end') { left = newTargetRect.right - popoverRect.width; }\n                break;\n            case 'right':\n                top = targetMidY - (popoverRect.height / 2);\n                left = newTargetRect.right + padding;\n                if (align === 'start') { top = newTargetRect.top; }\n                if (align === 'end') { top = newTargetRect.bottom - popoverRect.height; }\n                break;\n        }\n\n        return { top, left };\n    }\n\n    private targetPositionHasChanged(oldTargetRect: ClientRect, newTargetRect: ClientRect): boolean { // could move to a utilities file, along with some others potentially\n        return oldTargetRect === null\n            || oldTargetRect.left !== newTargetRect.left\n            || oldTargetRect.top !== newTargetRect.top\n            || oldTargetRect.width !== newTargetRect.width\n            || oldTargetRect.height !== newTargetRect.height;\n    }\n}\n\nexport { ArrowContainer };\nexport default Popover;\n"],"sourceRoot":""}